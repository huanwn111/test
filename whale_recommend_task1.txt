Task1、推荐系统简介

2.1 场景：用户-商品-公司之间做推荐

2.2 评测指标：

2.2.1、用户满意度：购买率、点击率、停留时间；
2.2.2、预测准确度：购买行为与推荐预测结果的匹配度评价
     2.2.2.1 评分预测：RMSE真值与预测值平方根差，
                          MAE真值与预测值差绝对值。
                          前者平方放大极端值作用，更严苛；
     2.2.2.2 TopN推荐：精确率（查准率） = 推荐列表与用户真行为（取测试场景衡量）取交集/推荐列表；
                            召回率（查全率） = 推荐列表与用户真行为取交集/用户真行为；
                           全面评估TopN的方法：取多组不同长度推荐列表，计算多组以上两值，画图统计。
2.2.3、覆盖率：描述对物品长尾的发掘能力：用信息熵，基尼系数。
2.2.4、多样性：兴趣多样，可以通过不同的方法组合，比如，商品基于内容的相似，基于协同过滤的相似，组合，求平均等方法。
2.2.5、新颖性：流行度低的新颖
2.2.6、AUC曲线 -- ROC曲线下的面积， 综合衡量真假阳性率，召回率与准确率。
                        
2.3 核心算法

2.3.1 在推荐系统架构中召回层与排序层是推荐系统的核心算法层。

召回阶段负责将海量的候选集快速缩小为几万到几千的规模；
而排序层则负责对缩小后的候选集进行精准排序。

两层特点：
召回层：待计算的候选集合大、计算速度快、模型简单、特征较少，尽量让用户感兴趣的物品在这个阶段能够被快速
召回，即保证相关物品的召回率（查全率，对正例的识别能力，感兴趣的先快速筛出来，先不考率查准率，找出来的是不是全没问题先不考虑）
排序层：首要目标是得到精准的排序结果。需要处理的物品数量少，可以利用较多的特征，使用比较复杂的模型。

2.3.2 多路召回：

召回策略要简单，计算速度快，但还要尽量选出排序模型所需的候选集。
工业界主流召回方法采用多个简单策略叠加的方法，叫“多路召回”，
即采用不同策略、特征、简单模型分别做一部分候选集（各策略不相关，可并发多线程同时进行），混合在一起给后面排序模型使用，
如：
兴取标签 ->Top k1
兴趣主题  ->Top k2
兴趣实体  ->Top k3
协同过滤  ->Top k4
热门  ->Top k5

K1-5 做为商品候选集合，送入排序模型（LR/FM/WDL/DeepFM...）

举个例子，如视频推荐：
可以做以下策略：“热门视频”、“导演召回”、“演员召回”、“最近上映“、”流行趋势“、”类型召回“等。

2.3.4 Embedding召回

多路召回的问题：K个商品的确定以及具体策略的选择多基于人工经验，策略间信息割裂，无法衡量不同策略对一个物品的影响。

所以，Embedding召回的出现就是为了解决这一问题。它综合性强，计算速度也能满足需求。

主流推荐系统中，Embedding的身影已经无处不在，从一定意义上可以说，把Embedding做好了，整个推荐系统的
一个难题就攻克了。

思想：将稀疏向量如One-hot，转成稠密向量。

针对文本的：静态word2vec,fasttext,glove；动态ELMO,GPT,BERT
针对图像视频的：模型训练生成
图数据之间的向量关系：节点与节点，关系与关系之间的向量，推荐系统中错综复杂的关系，这种情况就用用Graph Embedding，图Embedding来解决。
常用模型：Deep Walk，Node2Vec，LINE，EGES graph Embedding。

2.4 课后思考：

为什么用AUC：是一个综合指标，综合考虑了精确度与召回率。

如何用Embedding做召回：把各种推荐策略组合，在特征处理阶段做统一向量化、embedding稠密化，送入模型，召回侯选集，再排序。



